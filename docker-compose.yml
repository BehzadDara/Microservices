version: '3.8'

services:
  servicea:
    image: servicea:latest
    build:
      context: .
      dockerfile: ServiceA/Dockerfile

  serviceb_1:
    image: serviceb:latest
    build:
      context: .
      dockerfile: ServiceB/Dockerfile

  serviceb_2:
    image: serviceb:latest
    build:
      context: .
      dockerfile: ServiceB/Dockerfile

  servicec:
    image: servicec:latest
    build:
      context: .
      dockerfile: ServiceC/Dockerfile

  servicegateway:
    image: servicegateway:latest
    build:
      context: .
      dockerfile: ServiceGateway/Dockerfile

  sqlserver:
    container_name: sqlserver

  rabbitmq:
    container_name: rabbitmq

  redis:
    container_name: redis
    
  redis-commander:
    container_name: redis-commander

  consul:
    container_name: consul

  prometheus:
    container_name: prometheus

  grafana:
    container_name: grafana